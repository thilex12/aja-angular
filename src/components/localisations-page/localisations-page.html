<app-layout>
    <div class="localisations-container">
        <div class="localisations-header">
            <h1 class="page-title">Localisations</h1>
            <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm)">
            <mat-form-field appearance="fill">
                <mat-label>Recherche</mat-label>
                <input matInput placeholder="Champ de recherche" name="searchField" ngModel #searchField="ngModel" />
            </mat-form-field>
            <button matButton type="submit" [disabled]="!myForm.form.valid" >Rechercher</button>
        </form>
        <p class="localisations-count">{{locs().length}} localisation(s)</p>
        </div>
        
        <div class="localisations-grid">
            @for (loc of locs(); track loc.id) {
                <mat-card class="location-card" appearance="outlined">
                    <div class="location-header">
                        <div class="location-icon">
                            <mat-icon>location_on</mat-icon>
                        </div>
                    </div>
                    
                    <mat-card-content class="location-content">
                        <h2 class="location-name">{{loc.name}}</h2>
                        <p class="location-address">
                            <mat-icon>place</mat-icon>
                            {{loc.address}}
                        </p>
                        
                        @if (loc.description) {
                            <p class="location-description">{{loc.description}}</p>
                        }
                        
                        <div class="location-details">
                            <div class="location-detail-item">
                                <mat-icon>tag</mat-icon>
                                <span>ID: {{loc.id}}</span>
                            </div>
                            
                            <div class="location-detail-item">
                                <mat-icon>explore</mat-icon>
                                <span>{{loc.latitude}}, {{loc.longitude}}</span>
                            </div>
                        </div>
                        
                        <!-- <button mat-raised-button class="map-button" color="primary">
                            <mat-icon>map</mat-icon>
                            Voir sur la carte
                        </button> -->
                    </mat-card-content>
                </mat-card>
            }
        </div>
    </div>
    <router-outlet/>
</app-layout>